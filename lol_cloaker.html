<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>lol cloaker</title>
<style>
:root{
  --bg-gradient: linear-gradient(135deg, rgba(99,102,241,1) 0%, rgba(99,102,241,0.85) 30%, rgba(79,70,229,0.9) 50%, rgba(59,130,246,0.9) 100%);
  --card: rgba(10,8,20,0.6);
  --muted: rgba(230,238,248,0.7);
  --accent: #8b5cf6;
  --text: #eef6ff;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;}
body{
  background-image: url("https://t3.ftcdn.net/jpg/06/59/17/40/240_F_659174028_Cxg0bbYw3Nm9OZKuhdPwxqAgWDeiNTx7.jpg");
  background-size:cover;
  background-position:center;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
  color:var(--text);
}

/* container */
.container{
  width:100%;
  max-width:980px;
  background: rgba(5,4,10,0.55);
  border-radius:14px;
  padding:18px;
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.03);
}

/* header */
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.title{
  font-weight:800;
  font-size:26px;
  letter-spacing:-0.6px;
  color:var(--text);
}
.subtitle{color:var(--muted); font-size:13px; margin-top:4px}

/* top controls */
.controls{
  display:flex;
  gap:10px;
  align-items:center;
}
.input{
  flex:1;
  background: rgba(255,255,255,0.03);
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  color:var(--text);
}
.btn{
  background:var(--accent);
  border:none;
  color:white;
  padding:10px 12px;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
  min-width:48px;
}

/* search row */
.searchRow{
  display:flex;
  gap:10px;
  margin-top:16px;
}
.searchBar{
  flex:1;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  background: rgba(255,255,255,0.02);
  color:var(--text);
}

/* grid */
.grid{
  margin-top:18px;
  display:grid;
  grid-template-columns: repeat(auto-fill,minmax(120px,1fr));
  gap:12px;
}
.card{
  background: rgba(255,255,255,0.03);
  border-radius:10px;
  padding:10px;
  text-align:center;
  min-height:110px;
  display:flex;
  flex-direction:column;
  gap:8px;
  justify-content:center;
  align-items:center;
  border:1px solid rgba(255,255,255,0.02);
}
.card img{width:64px;height:64px;object-fit:contain;border-radius:8px}
.card .name{font-weight:700;font-size:13px;color:var(--text)}

/* simplified footer row with smaller back/fullscreen buttons */
.controls-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:16px;
}
.small-btn{
  width:44px;
  height:44px;
  border-radius:10px;
  border:none;
  background:rgba(255,255,255,0.03);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  font-size:18px;
}
.small-btn.alt{background:linear-gradient(135deg,#6d28d9,#1e3a8a); color:white;}

/* spinner overlay (replaces progress bar) */
.loader-overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(1,2,10,0.5);
  z-index:10000;
  visibility:hidden;
  opacity:0;
  transition:opacity .2s, visibility .2s;
}
.loader-overlay.show{visibility:visible;opacity:1}
.spinner{
  width:96px;
  height:96px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.04);
}
/* rotate the image */
.spinner img{width:64px;height:64px;display:block; animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* login overlay */
.login-overlay{
  position:fixed;
  inset:0;
  background: rgba(5,4,10,0.95);
  z-index:20000;
  display:flex;
  align-items:center;
  justify-content:center;
  backdrop-filter: blur(10px);
}
.login-box{
  background: rgba(255,255,255,0.05);
  padding:24px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.1);
  width:100%;
  max-width:320px;
  display:flex;
  flex-direction:column;
  gap:16px;
  text-align:center;
}
.login-title{font-size:20px; font-weight:700; margin-bottom:4px}
.login-input{
  background: rgba(0,0,0,0.3);
  border:1px solid rgba(255,255,255,0.1);
  padding:12px;
  border-radius:8px;
  color:white;
  width:100%;
  outline:none;
}
.login-input:focus{border-color:var(--accent)}
.login-btn{
  background:var(--accent);
  color:white;
  border:none;
  padding:12px;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
  transition:opacity 0.2s;
}
.login-btn:hover{opacity:0.9}
.error-msg{color:#ef4444; font-size:13px; min-height:20px; display:none}

/* mobile tweaks */
@media (max-width:600px){
  .header{flex-direction:column; align-items:flex-start}
  .controls{width:100%;}
}
</style>
</head>
<body>
<div class="container" id="app">
  <div class="header">
    <div>
      <div class="title">lol cloaker</div>
      <div class="subtitle">Lightweight cloaker — search to play</div>
    </div>

  <div class="searchRow">
    <input id="searchBar" class="searchBar" placeholder="Search games..." />
    <button id="allBtn" class="btn">All</button>
  </div>

  <div id="gamesGrid" class="grid" aria-live="polite"></div>

  <div class="controls-row">
    <div style="display:flex; gap:8px;">
      <button id="newBack" class="small-btn alt" title="Back">←</button>
      <button id="fsBtn" class="small-btn" title="Fullscreen">⤢</button>
    </div>
  </div>
</div>

<!-- login overlay -->
<div id="loginOverlay" class="login-overlay">
  <div class="login-box">
    <div>
      <div class="login-title">Welcome Back</div>
      <div style="color:var(--muted);font-size:13px">Please login to continue</div>
    </div>
    <input type="text" class="login-input" placeholder="Username" id="loginUser" />
    <input type="password" class="login-input" placeholder="Password" id="loginPass" />
    <div id="loginError" class="error-msg">Incorrect password</div>
    <button class="login-btn" id="loginBtn">Login</button>
  </div>
</div>

<!-- simple loader overlay with spinner (uses the base64 image you provided) -->
<div id="loader" class="loader-overlay">
  <div class="spinner" role="status" aria-live="assertive" aria-label="Loading">
    <img alt="spinner" src="data:image/jpeg;base64,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" />
  </div>
</div>

<script>
/* ===== simplified app state & games list (Papa* removed) ===== */
const GAME_LIST = (function(){
  const all = [
    {name:"2048",url:atob("aHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J3Z285ZnpHbGdienFwQktmWHJ3N2dHR3ZnOGNZUFBMLXljZ2RfeTlqS2VQU0RWbmtfenJfa2VZbjh2LTBlVUpRZDUvZXhlYw=="),img:"https://upload.wikimedia.org/wikipedia/commons/1/1a/2048_Icon.png"},
    {name:"Adventure Capitalist",url:atob("aHR0cHM6Ly9nYXZpbnRoZW1hbi52ZXJjZWwuYXBwL3NlbWFnL2FkdmVudHVyZS1jYXBpdGFsaXN0L2luZGV4Lmh0bWw="),img:"https://www.andyroid.net/wp-content/uploads/2015/06/AdVenture-Capitalist-icon.png"},
    {name:"Backyard Baseball",url:atob("aHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J4Q0dvTXM0d21qZF9jMDhTZVdhS3VKS2g5Qm9RbG92YlpJYlB0ekswM09MT1E2Q21tSW1SOXM2SHBzeEN0YUhZYmkvZXhlYw=="),img:"https://play-lh.googleusercontent.com/DwEQoD1zm9FLxRstBtdWZUXNxgyWgSsOjM0ILPtlAm1L1X7f2RZdmrjizTlOAdoDF_8=w240-h480-rw"},
    {name:"BitLife",url:atob("aHR0cHM6Ly9zdGlnbWFiZWFueWF5Lm5ldGxpZnkuYXBwL2dhbWVzL2JpdGxpZmUv"),img:"https://raw.githubusercontent.com/duckmath/icons/refs/heads/main/bitlife.webp"},
    {name:"Cookie Clicker",url:atob("aHR0cHM6Ly9zdGlnbWFiZWFueWF5Lm5ldGxpZnkuYXBwL2dhbWVzL2Nvb2tpZWNsaWNrZXIv"),img:"https://raw.githubusercontent.com/duckmath/icons/refs/heads/main/cookieclicker.webp"},
    {name:"Flappy Bird",url:atob("aHR0cHM6Ly9tYWRkb3gwNS5naXRodWIuaW8vYmFzaWMtcnVmZmxlLXBsYXllci9odG1sL2ZsYXBweV9iaXJkL2luZGV4Lmh0bWw="),img:"https://upload.wikimedia.org/wikipedia/en/thumb/0/0a/Flappy_Bird_icon.png/250px-Flappy_Bird_icon.png"},
    {name:"Geometry Dash",url:atob("aHR0cHM6Ly9nYXZpbnRoZW1hbi52ZXJjZWwuYXBwL3NlbWFnL2dkbGl0ZS9pbmRleC5odG1s"),img:"https://math711.github.io/img/class-453.png"},
    {name:"Minecraft 1.12.2",url:atob("aHR0cHM6Ly9lbGVtZW50LWdhbWVzLXY1LnZlcmNlbC5hcHAvZy9zb3VyY2UvbWluZWNyYWZ0LTEuMTIvaW5kZXguaHRtbA=="),img:"https://images.icon-icons.com/2699/PNG/512/minecraft_logo_icon_168974.png"},
    {name:"Pacman",url:atob("aHR0cHM6Ly9lbGVtZW50LWdhbWVzLXY1LnZlcmNlbC5hcHAvZy9zb3VyY2UvcGFjbWFuL2luZGV4Lmh0bWw="),img:"https://raw.githubusercontent.com/duckmath/icons/refs/heads/main/pacman.webp"},
    {name:"Paper.io 2",url:atob("aHR0cHM6Ly9nYW1lcy5wcm9sbC5kZXYvZy9wYXBlcmlvMi8="),img:"https://math711.github.io/img/class-505.png"},
    {name:"Retro Bowl",url:atob("aHR0cHM6Ly9nYW1lcy5wcm9sbC5kZXYvZy9yZXRyby1ib3dsLw=="),img:"https://raw.githubusercontent.com/duckmath/icons/refs/heads/main/retro_bowl_icon.webp"},
    {name:"Slope",url:atob("aHR0cHM6Ly9yYXcuZ2l0aGFjay5jb20vc2tvb2xncS9Qb2xhcmlzLUFzc2V0cy9tYWluL3Nsb3BlL2luZGV4Lmh0bWw="),img:"https://raw.githubusercontent.com/duckmath/icons/refs/heads/main/slope.webp"},
    {name:"Stickman Hook",url:atob("aHR0cHM6Ly9zdGlnbWFiZWFueWF5Lm5ldGxpZnkuYXBwL2dhbWVzL3N0aWNrbWFuaG9vay8="),img:"https://raw.githubusercontent.com/duckmath/icons/refs/heads/main/stickmanhook.webp"},
    {name:"Subway Surfers",url:atob("aHR0cHM6Ly9zdGlnbWFiZWFueWF5Lm5ldGxpZnkuYXBwL2dhbWVzL3N1YndheXN1cmZlcnMv"),img:"https://raw.githubusercontent.com/duckmath/icons/refs/heads/main/subway.webp"},
    {name:"Wordle Unlimited",url:atob("aHR0cHM6Ly9lbGVtZW50LWdhbWVzLXY1LnZlcmNlbC5hcHAvZy9zb3VyY2Uvd29yZGxlL2luZGV4Lmh0bWwjZGFpbHk="),img:"https://static01.nyt.com/images/2022/03/02/crosswords/alpha-wordle-icon-new/alpha-wordle-icon-new-smallSquare252-v3.png"}
  ];
  // filter out names that start with "Papa" (case-insensitive)
  return all.filter(g => !/^papa/i.test(g.name));
})();

/* render grid */
const grid = document.getElementById('gamesGrid');
function render(list){
  grid.innerHTML = '';
  if(!list.length){
    grid.innerHTML = '<div style="grid-column:1/-1;color:var(--muted);text-align:center;padding:18px">No games found</div>';
    return;
  }
  list.forEach(g=>{
    const el = document.createElement('button');
    el.className = 'card';
    el.setAttribute('data-name', g.name.toLowerCase());
    el.innerHTML = `<img src="${g.img}" alt=""><div class="name">${escapeHtml(g.name)}</div>`;
    el.addEventListener('click', ()=> openGame(g));
    grid.appendChild(el);
  });
}
render(GAME_LIST);

/* search */
const searchBar = document.getElementById('searchBar');
searchBar.addEventListener('input', ()=> {
  const q = searchBar.value.trim().toLowerCase();
  if(!q){ render(GAME_LIST); return; }
  render(GAME_LIST.filter(g => g.name.toLowerCase().includes(q)));
});
document.getElementById('allBtn').addEventListener('click', ()=> { searchBar.value=''; render(GAME_LIST); });

/* open game: opens in new window with custom controls (back + fullscreen) */
function openGame(game){
  if(!game || !game.url) return;
  showLoader(true);
  // small delay to show loader
  setTimeout(()=>{
    showLoader(false);
    const win = window.open('', '_blank');
    if(!win) { alert('Popup blocked. Allow popups for this site.'); return; }
    win.document.write(`
      <!doctype html>
      <html>
      <head>
        <meta charset="utf-8" />
        <meta name="referrer" content="no-referrer" />
        <title>${escapeHtml(game.name)}</title>
        <style>
          html,body{height:100%;margin:0;background:#000;color:#fff;overflow:hidden}
          #back, #fs { position: fixed; top:12px; left:12px; width:44px; height:44px; border-radius:10px; border:none; background: rgba(255,255,255,0.06); color:#fff; font-size:18px; cursor:pointer; z-index:1001; transition: background 0.2s; }
          #fs { left:64px; }
          #back:hover, #fs:hover { background: rgba(255,255,255,0.15); }
          iframe{position:fixed; inset:0; border:0; width:100%; height:100%}
        </style>
      </head>
      <body>
        <button id="back" title="Close">←</button>
        <button id="fs" title="Fullscreen">⤢</button>
        <iframe src="${game.url}" sandbox="allow-forms allow-scripts allow-same-origin allow-popups allow-modals allow-orientation-lock allow-pointer-lock allow-presentation" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" referrerpolicy="no-referrer"></iframe>
        <script>
          document.getElementById('back').addEventListener('click', ()=> window.close());
          const fsBtn = document.getElementById('fs');
          let isFs=false;
          fsBtn.addEventListener('click', ()=>{
            const el = document.documentElement;
            if(!isFs){
              if(el.requestFullscreen) el.requestFullscreen();
              else if(el.webkitRequestFullscreen) el.webkitRequestFullscreen();
            } else {
              if(document.exitFullscreen) document.exitFullscreen();
            }
            isFs = !isFs;
          });
          // prevent closing by accident
          window.onbeforeunload = function() { return "Are you sure you want to leave?"; };
        <\/script>
      </body></html>
    `);
    win.document.close();
  }, 500);
}

/* loader show/hide */
const loader = document.getElementById('loader');
function showLoader(on){
  if(on) loader.classList.add('show'); else loader.classList.remove('show');
}

/* quick "go" paste URL button */
document.getElementById('goBtn').addEventListener('click', ()=>{
  let u = document.getElementById('urlInput').value.trim();
  if(!u) return;
  if(!/^https?:\/\//i.test(u)) u = 'https://' + u;
  openGame({name:'Custom', url:u, img:''});
});

/* back and fullscreen on main app (these control nothing significant but styled as requested) */
document.getElementById('newBack').addEventListener('click', ()=> { alert('Back pressed'); });
document.getElementById('fsBtn').addEventListener('click', ()=> {
  const el = document.documentElement;
  if(!document.fullscreenElement){
    if(el.requestFullscreen) el.requestFullscreen();
  } else {
    if(document.exitFullscreen) document.exitFullscreen();
  }
});

/* helper: escape html */
function escapeHtml(s){ return String(s||'').replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;'); }

/* remove other extraneous features from original: no weather, no username, no quotes, no lightning/fab etc. */
/* set login password (not used for browsing but printed in UI). */
const SITE_PASSWORD = 'lol2523';

/* login logic */
const loginOverlay = document.getElementById('loginOverlay');
const loginUser = document.getElementById('loginUser');
const loginPass = document.getElementById('loginPass');
const loginBtn = document.getElementById('loginBtn');
const loginError = document.getElementById('loginError');

function checkLogin(){
  if(loginPass.value === SITE_PASSWORD){
    loginOverlay.style.display = 'none';
    // save session if needed, but for now just hide overlay
  } else {
    loginError.style.display = 'block';
    loginPass.value = '';
    loginPass.focus();
  }
}

loginBtn.addEventListener('click', checkLogin);
loginPass.addEventListener('keypress', (e)=>{ if(e.key==='Enter') checkLogin(); });
loginUser.addEventListener('keypress', (e)=>{ if(e.key==='Enter') loginPass.focus(); });

// focus user input on load
setTimeout(()=> loginUser.focus(), 100);

/* small accessibility: focus search on load */
// searchBar.focus(); // moved to after login

</script>
</body>
</html>
